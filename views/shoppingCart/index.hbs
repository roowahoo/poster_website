{{#extends 'base'}}

{{#block 'content'}}
<h1>Your shopping cart</h1>
<div>
    <a href="/checkout/checkout" class="btn btn-success mb-3 mt-3">Checkout Now</a>
</div>
<ul class="list-group">

    {{#each this.allItems}}
    <li class="list-group-item">
        <h4>{{this.products.title}}</h4>
        <h5>Price: {{this.products.cost}}</h5>
        <form method="POST" action="/shoppingCart/{{this.products.id}}/quantity/update">
        <input type="hidden" name="_csrf" value="{{../csrfToken}}"/>
        <h5>
            Quantity: <input type="text" style="width:30px" name="newQuantity" value="{{this.quantity}}">
            <input type="submit" class="btn btn-success btn-sm" value="Update Quantity"/>
        </h5>
        </form>   
        <a href="/shoppingCart/{{this.products.id}}/remove" class="btn btn-danger btn-sm">Remove</a> 
    </li>
    
    {{/each}}

</ul>

{{/block}}

{{/extends}}